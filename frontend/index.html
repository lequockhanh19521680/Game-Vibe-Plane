<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Stellar Drift: Singularity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/dialog.css" />
    <link rel="stylesheet" href="css/leaderboard.css" />
    <link rel="stylesheet" href="css/settings.css" />
    <link rel="stylesheet" href="css/playerName.css" />
  </head>
  <body>
    <!-- L·ªõp ph·ªß Modal - ƒê∆∞·ª£c hi·ªÉn th·ªã b·ªüi settingsUI.js -->
    <!-- <div id="modal-overlay" style="display: none;"></div> -->

    <canvas id="game-canvas"></canvas>

    <div id="ui-container">
      <!-- HUD Bar: Score, Level, Time -->
      <div id="top-bar">
        <!-- Left Section: High Score -->
        <div class="hud-left">
          <div id="highscore-display">High Score: 0</div>
        </div>
        <!-- Center Section: Level, Score, Time -->
        <div class="hud-center">
          <div id="level-display">Level: 1</div>
          <div id="level-progress-bar-container">
            <div id="level-progress-bar"></div>
          </div>
          <div class="hud-stats-container">
            <div id="score-display">Score: 0</div>
            <div id="survival-display">Time: 0:00</div>
          </div>
        </div>
        <!-- Right Section: Pause Button -->
        <div class="hud-right">
          <button id="pause-button" style="display: none">‚ùö‚ùö</button>
        </div>
      </div>

      <div id="event-text"></div>

      <!-- Main Menu Screen (T·ªëi ∆∞u h√≥a b·ªë c·ª•c) -->
      <div id="start-screen" class="ui-element">
        <h1>Stellar Drift</h1>
        <h2>SINGULARITY</h2>
        <p>
          <span data-translate="menu.description"
            >Move to score points. Avoid asteroids, black holes & missiles.
            Survive as long as possible!</span
          >
        </p>

        <div class="name-input-section" id="name-input-wrapper">
          <div class="input-group">
            <input
              type="text"
              id="player-name-input"
              class="name-input"
              placeholder="Your name..."
              data-translate-placeholder="playerName.placeholder"
              maxlength="20"
              autocomplete="off"
            />
          </div>
          Your name will appear on the leaderboard (2-20 chars)
        </div>

        <!-- Nh√≥m c√°c n√∫t l·∫°i cho g·ªçn g√†ng h∆°n -->
        <div class="menu-buttons-group">
          <button id="start-button" data-translate="menu.startBattle">
            Start Battle
          </button>
          <button id="leaderboard-button" data-translate="menu.leaderboard">
            Leaderboard
          </button>
          <button id="how-to-play-button" data-translate="menu.howToPlay">
            How to Play
          </button>
          <button id="settings-button" data-translate="menu.settings">
            Settings
          </button>
        </div>
      </div>

      <!-- Game Over Screen -->
      <div id="game-over-screen" class="ui-element">
        <h2>Game Over</h2>
        <p id="final-score">Your score: 0</p>
        <p id="final-time">Survival time: 0:00</p>
        <p id="new-highscore-msg">New High Score!</p>
        <button id="restart-button">Try Again</button>
        <button id="main-menu-from-over-button">Main Menu</button>
      </div>

      <!-- Leaderboard Screen -->
      <div id="leaderboard-screen" class="ui-element" style="display: none">
        <h2>Live Dashboard</h2>
        <div class="dashboard-tabs">
          <button class="dashboard-tab active" data-tab="global-leaderboard">
            üèÜ Top Players
          </button>
          <button class="dashboard-tab" data-tab="country-leaderboard">
            üåç Top Countries
          </button>
          <button class="dashboard-tab" data-tab="my-stats">üìä My Stats</button>
        </div>

        <!-- Global Leaderboard Tab -->
        <div id="global-leaderboard-content" class="dashboard-content active">
          <div class="leaderboard-header">
            <h3>üèÜ Global Top 10</h3>
            <div class="live-indicator">
              <span class="live-dot"></span>
              <span>LIVE</span>
            </div>
          </div>
          <div id="global-leaderboard-list" class="leaderboard-container">
            <div class="loading">Loading leaderboard...</div>
          </div>
        </div>

        <!-- Country Leaderboard Tab -->
        <div id="country-leaderboard-content" class="dashboard-content">
          <div class="leaderboard-header">
            <h3>üåç Top 10 Countries</h3>
            <div class="live-indicator">
              <span class="live-dot"></span>
              <span>LIVE</span>
            </div>
          </div>
          <div class="country-info">
            <p>Countries ranked by top 10% of players' combined score</p>
          </div>
          <div id="country-leaderboard-list" class="leaderboard-container">
            <div class="loading">Loading country rankings...</div>
          </div>
        </div>

        <!-- My Stats Tab -->
        <div id="my-stats-content" class="dashboard-content">
          <h3>üìä Your Statistics</h3>
          <div id="player-stats" class="stats-container">
            <div class="loading">Loading your stats...</div>
          </div>
        </div>

        <div class="leaderboard-footer">
          <div class="connection-status">
            <span id="connection-indicator">üî¥</span>
            <span id="connection-text">Connecting...</span>
          </div>
          <button id="back-to-main-menu-button">Back to Menu</button>
        </div>
      </div>

      <!-- How to Play Screen -->
      <div id="how-to-play-screen" class="ui-element" style="display: none">
        <h2>How to Play</h2>
        <p>
          - **Move:** Use your mouse or finger to guide the ship.
          <br />- **Score:** Earn points by moving and surviving. <br />-
          **Avoid:** Dodge asteroids, missiles, black holes, and lasers. <br />-
          **Power-ups:** Collect crystals to gain a temporary shield.
        </p>
        <button id="back-to-main-from-how-to-play-button">Back</button>
      </div>

      <!-- Pause Menu -->
      <div id="pause-menu" class="ui-element" style="display: none">
        <h2>Paused</h2>
        <button id="resume-button">Resume</button>
        <button id="restart-from-pause-button">Restart</button>
        <button id="main-menu-from-pause-button">Main Menu</button>
      </div>

      <!-- Settings Screen ƒë∆∞·ª£c t·∫°o ƒë·ªông b·ªüi settingsUI.js -->
      <!-- Lo·∫°i b·ªè <div id="settings-screen" ...> c≈© -->
    </div>

    <audio id="background-music" loop src="assets/audio/background.mp3"></audio>

    <script src="gameConfig.js"></script>
    <script src="js/config/endpoints.js"></script>
    <script src="js/api/backendApi.js"></script>
    <script src="js/audio/audioSystem.js"></script>
    <script src="js/audio/musicSystem.js"></script>
    <script src="js/audio/soundEffects.js"></script>
    <script src="js/base/Entity.js"></script>
    <script src="js/core/entityFactory.js"></script>
    <script src="js/core/gameStateManager.js"></script>
    <script src="js/entities/player.js"></script>
    <script src="js/entities/visuals.js"></script>
    <script src="js/entities/warnings.js"></script>
    <script src="js/entities/obstacles.js"></script>
    <script src="js/entities/collectibles.js"></script>
    <script src="js/entities/hazards.js"></script>
    <script src="js/entities/portals.js"></script>
    <script src="js/core/game.js"></script>
    <script src="js/core/eventSystem.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/userIdentification.js"></script>
    <script src="js/config/settings.js"></script>
    <script src="js/ui/settingsUI.js"></script>
    <script src="js/main.js"></script>
    <script src="js/ui/dashboard.js"></script>
    <script src="js/ui/initUI.js"></script>
    <script src="js/ui/menuSystem.js"></script>
  </body>
</html>
